{% from "VcareWebBundle:Macros:images.html.twig" import toro_image %}
{% set is_mobile_view = is_mobile_view() %}

<div id="block-cms-blocks-slide-homepage" class="cmf-block cmf-block-slideshow">
    <div class="carousel carousel__index carousel__index--no-pad slide" data-ride="carousel" id="slide-homepage">
        {% if not is_mobile_view %}
            <ol class="carousel-indicators">
                {% for post in posts %}
                    <li data-target="#slide-homepage" data-slide-to="{{ loop.index0 }}" class="{{ loop.index0 ? '' : 'active' }}"></li>
                {% endfor %}
            </ol>
        {% endif %}

        <div class="carousel-inner" role="listbox">
            {% for post in posts %}
                <div class="carousel-item {{ loop.index0 ? '' : 'active' }}">
                    <div class="text-align-center">
                        {{ toro_image(post.cover, 'strip', post.title) }}
                    </div>
                </div>
            {% endfor %}
        </div>

        <a class="left carousel-control" href="#slide-homepage" role="button" data-slide="prev">
            <span class="icon-prev" aria-hidden="true"></span>
            <span class="sr-only">Previous</span>
        </a>
        <a class="right carousel-control" href="#slide-homepage" role="button" data-slide="next">
            <span class="icon-next" aria-hidden="true"></span>
            <span class="sr-only">Next</span>
        </a>
    </div>
</div>
